<!DOCTYPE html>
<html lang="bs">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>1a Hard - Iman, Islam, Poslanik | MEKTEB</title>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Playfair+Display:wght@700&family=Lora:wght@400;600&display=swap');
        
        * { margin: 0; padding: 0; box-sizing: border-box; }
        
        body {
            font-family: 'Lora', serif;
            background: linear-gradient(135deg, #064e3b 0%, #0f766e 50%, #065f46 100%);
            min-height: 100vh;
            color: white;
        }
        
        .container { max-width: 900px; margin: 0 auto; padding: 2rem; }
        
        .quiz-header { text-align: center; margin-bottom: 2rem; }
        
        .quiz-icon {
            width: 80px;
            height: 80px;
            margin-bottom: 1rem;
        }
        
        h1 {
            font-family: 'Playfair Display', serif;
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }
        
        .subtitle { font-size: 1.2rem; color: #d1fae5; }
        
        .back-link {
            display: inline-block;
            margin-bottom: 2rem;
            color: #fbbf24;
            text-decoration: none;
            font-size: 1.1rem;
            transition: all 0.3s;
        }
        .back-link:hover { color: #f59e0b; transform: translateX(-5px); }
        
        .quiz-info {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(110, 231, 183, 0.3);
            border-radius: 1.5rem;
            padding: 2rem;
            margin-bottom: 2rem;
            text-align: center;
        }
        
        .start-btn {
            background: linear-gradient(to right, #10b981, #14b8a6);
            color: white;
            border: none;
            padding: 1rem 3rem;
            font-size: 1.3rem;
            border-radius: 2rem;
            cursor: pointer;
            font-family: 'Lora', serif;
            transition: all 0.3s;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }
        .start-btn:hover { transform: translateY(-3px); box-shadow: 0 6px 20px rgba(16, 185, 129, 0.5); }
        
        .screen { display: none; }
        .screen.active { display: block; }
        
        .progress-info {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1.5rem;
        }
        
        .progress-bar-container {
            flex: 1;
            height: 8px;
            background: rgba(255,255,255,0.2);
            border-radius: 4px;
            margin: 0 1rem;
            overflow: hidden;
        }
        
        .progress-bar {
            height: 100%;
            background: linear-gradient(to right, #fbbf24, #f59e0b);
            border-radius: 4px;
            transition: width 0.3s;
        }
        
        .question-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(110, 231, 183, 0.3);
            border-radius: 1.5rem;
            padding: 2rem;
            position: relative;
        }
        
        .question-text {
            font-size: 1.3rem;
            margin-bottom: 1.5rem;
            line-height: 1.6;
        }
        
        .options { display: flex; flex-direction: column; }
        
        .option {
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            color: white;
            font-size: 1.1rem;
            cursor: pointer;
            transition: all 0.3s;
            text-align: left;
            font-family: 'Lora', serif;
            margin-bottom: 1rem;
        }
        .option:last-child {
            margin-bottom: 0;
        }
        .option:hover:not(.disabled) { 
            background: rgba(34, 197, 94, 0.4);
            transform: translateX(10px);
        }
        .option.correct {
            background: linear-gradient(135deg, #10b981, #059669);
            border-color: #10b981;
        }
        .option.incorrect {
            background: linear-gradient(135deg, #ef4444, #dc2626);
            border-color: #ef4444;
        }
        .option.disabled { pointer-events: none; }

        /* Checkbox style */
        .checkbox-option {
            display: flex;
            align-items: center;
            gap: 1rem;
        }
        .checkbox-option input[type="checkbox"] {
            width: 24px;
            height: 24px;
            cursor: pointer;
        }

        /* Answer button */
        .answer-btn {
            background: linear-gradient(to right, #10b981, #14b8a6);
            color: white;
            border: none;
            padding: 1rem 3rem;
            font-size: 1.2rem;
            border-radius: 2rem;
            cursor: pointer;
            font-family: 'Lora', serif;
            transition: all 0.3s;
            margin-top: 1.5rem;
            width: 100%;
            box-shadow: 0 4px 15px rgba(16, 185, 129, 0.4);
        }
        .answer-btn:hover { 
            transform: translateY(-3px); 
            box-shadow: 0 6px 20px rgba(16, 185, 129, 0.5); 
        }

        /* Reorder */
        .reorder-list {
            list-style: none;
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }
        .reorder-item {
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            padding: 1rem 1.5rem;
            border-radius: 12px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            color: white;
        }
        .reorder-controls {
            display: flex;
            gap: 0.5rem;
        }
        .reorder-btn {
            background: #fbbf24;
            color: #064e3b;
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 8px;
            cursor: pointer;
            font-size: 1.2rem;
            font-weight: bold;
            transition: all 0.3s;
        }
        .reorder-btn:hover {
            background: #f59e0b;
            transform: scale(1.1);
        }

        /* Mark words */
        .text-container {
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            padding: 1.5rem;
            border-radius: 12px;
            line-height: 2;
            font-size: 1.1rem;
        }
        .word {
            padding: 3px 6px;
            cursor: pointer;
            transition: all 0.2s;
            border-radius: 4px;
            display: inline-block;
            margin: 2px;
        }
        .word:hover {
            background: rgba(251, 191, 36, 0.3);
        }
        .word.marked {
            background: #fbbf24;
            color: #064e3b;
            font-weight: 600;
        }

        /* Drag and drop */
        .sentence-builder {
            background: rgba(255,255,255,0.15);
            border: 2px solid rgba(255,255,255,0.3);
            padding: 1.5rem;
            border-radius: 12px;
            min-height: 100px;
            margin-bottom: 1.5rem;
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            align-items: center;
            font-size: 1.1rem;
        }
        .sentence-builder span {
            margin: 0 0.25rem;
            display: inline-block;
            white-space: pre;
        }
        .drop-zone {
            background: rgba(255,255,255,0.1);
            border: 2px dashed #fbbf24;
            padding: 0.5rem 1rem;
            border-radius: 12px;
            min-width: 100px;
            min-height: 45px;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            transition: all 0.3s;
            cursor: pointer;
            margin: 0.5rem;
            margin: 0.5rem;
        }
        .drop-zone.filled {
            border-style: solid;
            background: rgba(251, 191, 36, 0.2);
        }
        .word-bank {
            display: flex;
            flex-wrap: wrap;
            gap: 0.5rem;
            justify-content: center;
            padding: 1rem;
            background: rgba(255,255,255,0.1);
            border-radius: 12px;
        }
        .draggable-word {
            background: #fbbf24;
            color: #064e3b;
            padding: 0.5rem 1rem;
            border-radius: 8px;
            cursor: pointer;
            user-select: none;
            transition: all 0.3s;
            font-weight: 600;
        }
        .draggable-word:hover {
            background: #f59e0b;
            transform: scale(1.05);
        }
        .draggable-word.used {
            opacity: 0.3;
            cursor: not-allowed;
        }

        /* POPUP OVERLAY */
        .popup-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.6);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 1rem;
        }
        .popup-overlay.active { display: flex; }

        .popup-content {
            background: #fbbf24;
            color: #1a1a1a;
            border-radius: 1.5rem;
            padding: 1.5rem;
            max-width: 500px;
            width: 100%;
            text-align: center;
            box-shadow: 0 10px 40px rgba(0,0,0,0.3);
            animation: popupIn 0.3s ease;
        }

        @keyframes popupIn {
            from { transform: scale(0.8); opacity: 0; }
            to { transform: scale(1); opacity: 1; }
        }

        .popup-icon {
            font-size: 2.5rem;
            margin-bottom: 0.5rem;
        }

        .popup-title {
            font-family: 'Playfair Display', serif;
            font-size: 1.5rem;
            margin-bottom: 1rem;
            color: #065f46;
        }

        .popup-explanation {
            font-size: 1rem;
            line-height: 1.5;
            margin-bottom: 1.5rem;
            color: #333;
        }

        .popup-btn {
            background: linear-gradient(to right, #065f46, #0f766e);
            color: white;
            border: none;
            padding: 0.8rem 2rem;
            font-size: 1.1rem;
            border-radius: 2rem;
            cursor: pointer;
            font-family: 'Lora', serif;
            transition: all 0.3s;
        }
        .popup-btn:hover { transform: translateY(-2px); box-shadow: 0 4px 15px rgba(6, 95, 70, 0.4); }

        .result-card {
            background: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(10px);
            border: 2px solid rgba(110, 231, 183, 0.3);
            border-radius: 1.5rem;
            padding: 3rem 2rem;
            text-align: center;
        }
        
        .result-emoji { font-size: 5rem; margin-bottom: 1rem; }
        .result-message { font-size: 1.8rem; margin-bottom: 1rem; font-family: 'Playfair Display', serif; }
        .result-score { font-size: 3rem; color: #fbbf24; font-weight: bold; margin-bottom: 0.5rem; }
        .result-percentage { font-size: 1.2rem; color: #d1fae5; margin-bottom: 2rem; }
        
        .btn-group { display: flex; gap: 1rem; justify-content: center; flex-wrap: wrap; }
        
        .retry-btn, .home-btn {
            padding: 1rem 2rem;
            font-size: 1.1rem;
            border-radius: 2rem;
            cursor: pointer;
            font-family: 'Lora', serif;
            transition: all 0.3s;
            text-decoration: none;
        }
        .retry-btn {
            background: linear-gradient(to right, #10b981, #14b8a6);
            color: white;
            border: none;
        }
        .home-btn {
            background: transparent;
            color: #fbbf24;
            border: 2px solid #fbbf24;
        }
        .retry-btn:hover, .home-btn:hover { transform: translateY(-3px); }
    </style>
</head>
<body>
    <div class="container screen active" id="startScreen">
        <a href="index.html" class="back-link">‚Üê Poƒçetna</a>
        <div class="quiz-header">
            <img src="mekteb_logo.png" alt="MEKTEB" class="quiz-icon">
            <h1>KVIZ 1A - HARD</h1>
            <p class="subtitle">Iman, Islam, Poslanik - Ilmihal 1</p>
        </div>
        <div class="quiz-info">
            <p style="font-size: 1.2rem; margin-bottom: 1rem;">üìö Teme: 6 imanskih ≈°artova, 5 islamskih ≈°artova, Muhammed a.s.</p>
            <p style="margin-bottom: 2rem;">20 pitanja od 52 iz baze ‚Ä¢ 4 razliƒçita tipa pitanja ‚Ä¢ Napredni nivo</p>
            <button class="start-btn" onclick="startQuiz()">POKRENI KVIZ</button>
        </div>
    </div>

    <div class="container screen" id="quizScreen">
        <div class="quiz-header">
            <img src="mekteb_logo.png" alt="MEKTEB" class="quiz-icon">
            <h1>KVIZ 1A - HARD</h1>
            <p class="subtitle">Iman, Islam, Poslanik</p>
        </div>
        <div class="progress-info">
            <a href="index.html" class="back-link" style="margin:0;">‚Üê Poƒçetna</a>
            <div class="progress-bar-container">
                <div class="progress-bar" id="progressBar"></div>
            </div>
            <span id="questionCount">1/20</span>
        </div>
        <div class="question-card">
            <div class="question-text" id="questionText"></div>
            <div id="questionContainer"></div>
        </div>
    </div>

    <div class="popup-overlay" id="popupOverlay">
        <div class="popup-content">
            <div class="popup-icon" id="popupIcon">‚úÖ</div>
            <div class="popup-title" id="popupTitle">Taƒçno!</div>
            <div class="popup-explanation" id="popupExplanation"></div>
            <button class="popup-btn" onclick="nextQuestion()">Sljedeƒáe pitanje ‚Üí</button>
        </div>
    </div>

    <div class="container screen" id="resultScreen">
        <div class="quiz-header">
            <img src="mekteb_logo.png" alt="MEKTEB" class="quiz-icon">
            <h1>REZULTAT</h1>
        </div>
        <div class="result-card">
            <div class="result-emoji" id="resultEmoji">üåü</div>
            <div class="result-message" id="resultMessage">Odliƒçan rezultat!</div>
            <div class="result-score" id="resultScore">16/20</div>
            <div class="result-percentage" id="resultPercentage">80% taƒçnih odgovora</div>
            <div class="btn-group">
                <button class="retry-btn" onclick="startQuiz()">Poku≈°aj ponovo</button>
                <a href="index.html" class="home-btn">Poƒçetna stranica</a>
            </div>
        </div>
    </div>

    <script>
        const allQuestions = [
            // CHECKBOX - Vi≈°e taƒçnih odgovora (13)
            {type:'checkbox',question:'Koje od sljedeƒáih su imanski ≈°arti?',options:['Vjerovanje u Allaha','Namaz','Vjerovanje u meleke','Vjerovanje u knjige','Post'],correct:['Vjerovanje u Allaha','Vjerovanje u meleke','Vjerovanje u knjige'],explanation:'Imanskih ≈°artova ima 6: vjerovanje u Allaha, meleke, knjige, poslanike, Sudnji dan i kader. Namaz i post su islamski ≈°arti.'},
            {type:'checkbox',question:'Koje od sljedeƒáih su islamski ≈°arti (stubovi islama)?',options:['≈†ehadet','Vjerovanje u kader','Namaz','Post','Vjerovanje u Allaha'],correct:['≈†ehadet','Namaz','Post'],explanation:'Islamskih ≈°artova (stubova islama) ima 5: ≈°ehadet, namaz, post, zekat i had≈æ. Vjerovanje u Allaha i kader su imanski ≈°arti.'},
            {type:'checkbox',question:'Koje izraze koristimo za poslanike?',options:['Alejhis-selam','Sallallahu alejhi ve sellem','Radijallahu anhu','Subhanehu ve te\'ala'],correct:['Alejhis-selam','Sallallahu alejhi ve sellem'],explanation:'Za poslanike koristimo "Alejhis-selam" i "Sallallahu alejhi ve sellem" (posebno za Muhammeda a.s.). "Radijallahu anhu" je za ashabe, a "Subhanehu ve te\'ala" za Allaha.'},
            {type:'checkbox',question:'Koje podatke o Muhammedu a.s. znamo?',options:['Roƒëen u Mekki','Otac Abdullah','Majka Fatima','Zadnji poslanik'],correct:['Roƒëen u Mekki','Otac Abdullah','Zadnji poslanik'],explanation:'Muhammed a.s. je roƒëen u Mekki, otac mu se zvao Abdullah, i on je zadnji poslanik. Majka mu se zvala Amina (Fatima je njegova kƒáerka).'},
            {type:'checkbox',question:'≈†ta spada u dinskih ≈°artova?',options:['Biti razuman','Biti punoljetan','ƒåuti poziv islama','Biti bogat','Poznavati arapski'],correct:['Biti razuman','Biti punoljetan','ƒåuti poziv islama'],explanation:'Dinskih ≈°artova ima 7, meƒëu njima su: biti razuman, punoljetan i ƒçuti poziv islama. Ne mora biti bogat niti poznavati arapski.'},
            {type:'checkbox',question:'Koliko poslanika je poslano?',options:['25 po imenu u Kur\'anu','313 resula','124.000 ukupno','1.000 nebija'],correct:['25 po imenu u Kur\'anu','124.000 ukupno'],explanation:'Allah je poslao 124.000 poslanika, od kojih je 25 spomenuto po imenu u Kur\'anu.'},
            {type:'checkbox',question:'≈†ta znaƒçe ovi izrazi?',options:['Subhanehu ve te\'ala - za Allaha','Alejhis-selam - za poslanike','Radijallahu anhu - za poslanike','Sallallahu alejhi ve sellem - za Muhammeda a.s.'],correct:['Subhanehu ve te\'ala - za Allaha','Alejhis-selam - za poslanike','Sallallahu alejhi ve sellem - za Muhammeda a.s.'],explanation:'"Radijallahu anhu" je za ASHABE, ne za poslanike.'},
            {type:'checkbox',question:'Koji su stubovi islama?',options:['≈†ehadet','Namaz','Post','Vjerovanje u meleke','Zekat','Had≈æ'],correct:['≈†ehadet','Namaz','Post','Zekat','Had≈æ'],explanation:'Pet stubova islama su: ≈°ehadet, namaz, post, zekat i had≈æ. Vjerovanje u meleke je imanski ≈°art.'},
            {type:'checkbox',question:'≈†ta pripada imanskim ≈°artima?',options:['Vjerovanje u Allaha','Vjerovanje u meleke','Vjerovanje u knjige','Vjerovanje u poslanike','Vjerovanje u Sudnji dan','Vjerovanje u kader'],correct:['Vjerovanje u Allaha','Vjerovanje u meleke','Vjerovanje u knjige','Vjerovanje u poslanike','Vjerovanje u Sudnji dan','Vjerovanje u kader'],explanation:'Svih 6 navedenih su imanski ≈°arti.'},
            {type:'checkbox',question:'Koje od ovih informacija su taƒçne?',options:['Adem a.s. je prvi poslanik','Muhammed a.s. je zadnji poslanik','Nuh a.s. je prvi poslanik','Isa a.s. je zadnji poslanik'],correct:['Adem a.s. je prvi poslanik','Muhammed a.s. je zadnji poslanik'],explanation:'Adem a.s. je prvi ƒçovjek i prvi poslanik. Muhammed a.s. je zadnji poslanik.'},
            {type:'checkbox',question:'Koje dove uƒçimo?',options:['Rabbi jessir','Rabbi zidni \'ilma','Allahu rabbi','Hasbi rabbi','Kelime-i ≈°ehadet'],correct:['Rabbi jessir','Rabbi zidni \'ilma','Allahu rabbi','Hasbi rabbi'],explanation:'Sve navedene su dove osim Kelime-i ≈°ehadeta koja je svjedoƒçenje vjere.'},
            {type:'checkbox',question:'Koje informacije o postu su taƒçne?',options:['Obavezan u ramazanu','Treƒái stub islama','ƒåetvrti stub islama','Od zore do zalaska sunca'],correct:['Obavezan u ramazanu','Treƒái stub islama','Od zore do zalaska sunca'],explanation:'Post je treƒái stub islama, obavezan je u ramazanu i traje od zore do zalaska sunca.'},
            {type:'checkbox',question:'Koliko ima ≈°artova?',options:['6 imanskih','5 islamskih','7 dinskih','4 abdeska'],correct:['6 imanskih','5 islamskih','7 dinskih','4 abdeska'],explanation:'Imanskih 6, islamskih 5, dinskih 7, abdeska 4 - sve taƒçno!'},

            // REORDER - Poredaj (13)
            {type:'reorder',question:'Poredaj pet stubova islama:',items:[{text:'1. ≈†ehadet',order:1},{text:'2. Namaz',order:2},{text:'3. Post',order:3},{text:'4. Zekat',order:4},{text:'5. Had≈æ',order:5}],explanation:'Pet stubova islama po redu: ≈†ehadet, Namaz, Post, Zekat, Had≈æ.'},
            {type:'reorder',question:'Poredaj ≈°est imanskih ≈°artova:',items:[{text:'1. Vjerovanje u Allaha',order:1},{text:'2. Vjerovanje u meleke',order:2},{text:'3. Vjerovanje u knjige',order:3},{text:'4. Vjerovanje u poslanike',order:4},{text:'5. Vjerovanje u Sudnji dan',order:5},{text:'6. Vjerovanje u kader',order:6}],explanation:'≈†est imanskih ≈°artova po redu.'},
            {type:'reorder',question:'Poredaj dijelove Kelime-i ≈°ehadeta:',items:[{text:'E≈°hedu en',order:1},{text:'la ilahe illallah',order:2},{text:'ve e≈°hedu enne',order:3},{text:'Muhammeden \'abduhu ve resuluhu',order:4}],explanation:'Kelime-i ≈°ehadet: "E≈°hedu en la ilahe illallah ve e≈°hedu enne Muhammeden \'abduhu ve resuluhu."'},
            {type:'reorder',question:'Poredaj Subhaneke:',items:[{text:'Subhaneke Allahumme',order:1},{text:'ve bihamdike',order:2},{text:'ve tebarekesmuke',order:3},{text:'ve te\'ala d≈æedduke',order:4},{text:'ve la ilahe gajruke',order:5}],explanation:'Subhaneke po redu.'},
            {type:'reorder',question:'Poredaj Rabbi jessir:',items:[{text:'Rabbi jessir',order:1},{text:'ve la tu\'assir',order:2},{text:'Rabbi temmim',order:3},{text:'bil-hajr!',order:4}],explanation:'Dova Rabbi jessir: "Gospodaru moj, olak≈°aj a ne ote≈æaj! Gospodaru moj, dovr≈°i sa dobrom!"'},
            {type:'reorder',question:'Poredaj prve poslanike hronolo≈°ki:',items:[{text:'Adem a.s.',order:1},{text:'Nuh a.s.',order:2},{text:'Ibrahim a.s.',order:3},{text:'Musa a.s.',order:4},{text:'Isa a.s.',order:5},{text:'Muhammed a.s.',order:6}],explanation:'Hronolo≈°ki redoslijed nekih najpoznatijih poslanika.'},
            {type:'reorder',question:'Poredaj dove Rabbi zidni \'ilma:',items:[{text:'Rabbi zidni \'ilma',order:1},{text:'- Gospodaru moj',order:2},{text:'Ti znanje moje',order:3},{text:'pro≈°iri!',order:4}],explanation:'Dova Rabbi zidni \'ilma - dova za znanje.'},
            {type:'reorder',question:'Poredaj Allahu rabbi:',items:[{text:'Allahu rabbi',order:1},{text:'ve Muhammeden nebijji',order:2},{text:'vel-Kur\'anu kitabi',order:3},{text:'vel-islamu dini',order:4}],explanation:'Dova Allahu rabbi po redu.'},
            {type:'reorder',question:'Poredaj va≈ænost izvora islama:',items:[{text:'1. Kur\'an',order:1},{text:'2. Sunnet',order:2},{text:'3. Id≈æma',order:3},{text:'4. Kiyas',order:4}],explanation:'Izvori islama po va≈ænosti: Kur\'an, Sunnet, Id≈æma, Kiyas.'},
            {type:'reorder',question:'Poredaj dinskih ≈°artova (prvih 5):',items:[{text:'1. Biti razuman',order:1},{text:'2. Biti punoljetan',order:2},{text:'3. ƒåuti poziv islama',order:3},{text:'4. Razumjeti poziv',order:4},{text:'5. Prihvatiti islam',order:5}],explanation:'Prvih 5 od 7 dinskih ≈°artova.'},
            {type:'reorder',question:'Poredaj dogaƒëaje u ≈æivotu Poslanika a.s.:',items:[{text:'Roƒëenje u Mekki',order:1},{text:'Primanje objave',order:2},{text:'Hid≈æra u Medinu',order:3},{text:'Povratak u Mekku',order:4}],explanation:'Glavni dogaƒëaji u ≈æivotu Muhammeda a.s.'},
            {type:'reorder',question:'Poredaj Hasbi rabbi:',items:[{text:'Hasbi rabbi',order:1},{text:'d≈æellallahu',order:2},{text:'La ilahe illa huve',order:3},{text:'\'alejhi tevekkeltlu',order:4}],explanation:'Dova Hasbi rabbi po redu.'},
            {type:'reorder',question:'Poredaj bo≈æanske knjige hronolo≈°ki:',items:[{text:'1. Tevrat (Musa a.s.)',order:1},{text:'2. Zebur (Davud a.s.)',order:2},{text:'3. Ind≈æil (Isa a.s.)',order:3},{text:'4. Kur\'an (Muhammed a.s.)',order:4}],explanation:'ƒåetiri glavne bo≈æanske knjige po redu objavljivanja.'},

            // MARK WORDS - Oznaƒçi netaƒçne rijeƒçi (13)
            {type:'markWords',question:'Pronaƒëi gre≈°ke u tekstu:',text:'Allah je poslao 25 poslanika. Prvi je bio Nuh a.s., a zadnji Muhammed a.s.',words:['Allah','je','poslao','25','poslanika.','Prvi','je','bio','Nuh','a.s.,','a','zadnji','Muhammed','a.s.'],incorrect:[3,8],explanation:'Allah je poslao 124.000 poslanika (ne 25), i prvi je bio ADEM a.s. (ne Nuh).'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Imanskih ≈°artova ima 5. Oni ukljuƒçuju vjerovanje u Allaha, meleke, knjige, poslanike i namaz.',words:['Imanskih','≈°artova','ima','5.','Oni','ukljuƒçuju','vjerovanje','u','Allaha,','meleke,','knjige,','poslanike','i','namaz.'],incorrect:[3,13],explanation:'Imanskih ≈°artova ima 6 (ne 5), i zadnji je kader, ne namaz.'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Muhammed a.s. roƒëen je u Medini. Otac mu se zvao Abdullah, a majka Fatima.',words:['Muhammed','a.s.','roƒëen','je','u','Medini.','Otac','mu','se','zvao','Abdullah,','a','majka','Fatima.'],incorrect:[5,13],explanation:'Muhammed a.s. je roƒëen u MEKKI (ne Medini), majka mu je AMINA (Fatima je kƒáerka).'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Islamskih ≈°artova ima 6: ≈°ehadet, namaz, post, zekat, had≈æ i dova.',words:['Islamskih','≈°artova','ima','6:','≈°ehadet,','namaz,','post,','zekat,','had≈æ','i','dova.'],incorrect:[3,10],explanation:'Islamskih ≈°artova ima 5 (ne 6), i dova NIJE meƒëu njima.'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Dinskih ≈°artova ima 5. Prvi je biti pametan, a drugi biti punoljetan.',words:['Dinskih','≈°artova','ima','5.','Prvi','je','biti','pametan,','a','drugi','biti','punoljetan.'],incorrect:[3,7],explanation:'Dinskih ≈°artova ima 7 (ne 5), i prvi je biti RAZUMAN (ne pametan).'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Had≈æ je drugi stub islama. On je obavezan za sve muslimane bez obzira na moguƒánosti.',words:['Had≈æ','je','drugi','stub','islama.','On','je','obavezan','za','sve','muslimane','bez','obzira','na','moguƒánosti.'],incorrect:[2,9,10,11,12,13,14],explanation:'Had≈æ je PETI (ne drugi) stub islama, i NIJE obavezan za SVE muslimane - samo za one koji imaju materijalne moguƒánosti.'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Post je ƒçetvrti stub islama. On je obavezan u mjesecu ≈°evval.',words:['Post','je','ƒçetvrti','stub','islama.','On','je','obavezan','u','mjesecu','≈°evval.'],incorrect:[2,10],explanation:'Post je TREƒÜI (ne ƒçetvrti) stub, obavezan je u mjesecu RAMAZAN (ne ≈°evval).'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Kelime-i ≈°ehadet je: La ilahe ilallah, Muhammeden nebijji.',words:['Kelime-i','≈°ehadet','je:','La','ilahe','ilallah,','Muhammeden','nebijji.'],incorrect:[5,7],explanation:'Pravilno je "illallah" (ne ilallah), i "\'abduhu ve resuluhu" (ne samo nebijji).'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Subhanehu ve te\'ala ka≈æemo nakon imena poslanika. Alejhis-selam ka≈æemo za Allaha.',words:['Subhanehu','ve','te\'ala','ka≈æemo','nakon','imena','poslanika.','Alejhis-selam','ka≈æemo','za','Allaha.'],incorrect:[6,10],explanation:'"Subhanehu ve te\'ala" ka≈æemo za ALLAHA, a "Alejhis-selam" za POSLANIKE.'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Radijallahu anhu ka≈æemo za poslanike. Sallallahu alejhi ve sellem ka≈æemo za ashabe.',words:['Radijallahu','anhu','ka≈æemo','za','poslanike.','Sallallahu','alejhi','ve','sellem','ka≈æemo','za','ashabe.'],incorrect:[4,11],explanation:'"Radijallahu anhu" je za ASHABE, a "Sallallahu alejhi ve sellem" za POSLANIKE (posebno Muhammeda a.s.).'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Adem a.s. je zadnji poslanik. Muhammed a.s. je prvi poslanik.',words:['Adem','a.s.','je','zadnji','poslanik.','Muhammed','a.s.','je','prvi','poslanik.'],incorrect:[3,8],explanation:'Adem a.s. je PRVI poslanik, Muhammed a.s. je ZADNJI.'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Rabbi jessir znaƒçi: Gospodaru, ote≈æaj a ne olak≈°aj!',words:['Rabbi','jessir','znaƒçi:','Gospodaru,','ote≈æaj','a','ne','olak≈°aj!'],incorrect:[4,7],explanation:'"Rabbi jessir" znaƒçi "Gospodaru, OLAK≈†AJ a ne OTE≈ΩAJ!"'},
            {type:'markWords',question:'Pronaƒëi gre≈°ke:',text:'Zekat je prvi stub islama. Namaz je peti stub islama.',words:['Zekat','je','prvi','stub','islama.','Namaz','je','peti','stub','islama.'],incorrect:[2,7],explanation:'Zekat je ƒåETVRTI stub, Namaz je DRUGI stub islama.'},

            // DRAG DROP - Dopuni (13)
            {type:'dragDrop',question:'Dopuni Kelime-i ≈°ehadet:',template:['E≈°hedu en la ilahe','DROP','ve e≈°hedu enne Muhammeden','DROP','ve resuluhu'],words:['illallah','\'abduhu','ilallah','nebijji'],correct:['illallah','\'abduhu'],explanation:'Kelime-i ≈°ehadet: "La ilahe illallah, Muhammeden \'abduhu ve resuluhu."'},
            {type:'dragDrop',question:'Dopuni Subhaneke:',template:['Subhaneke','DROP','ve bihamdike, ve tebarekesmuke, ve te\'ala','DROP'],words:['Allahumme','d≈æedduke','Rabbena','ilahi'],correct:['Allahumme','d≈æedduke'],explanation:'Subhaneke: "Subhaneke Allahumme... ve te\'ala d≈æedduke..."'},
            {type:'dragDrop',question:'Dopuni imanskih ≈°artova:',template:['Imanskih ≈°artova ima','DROP','a islamskih ≈°artova ima','DROP'],words:['6','5','5','7'],correct:['6','5'],explanation:'Imanskih ≈°artova ima 6, islamskih ≈°artova (stubova islama) ima 5.'},
            {type:'dragDrop',question:'Dopuni prvi i zadnji poslanik:',template:['Prvi poslanik je','DROP','a zadnji je','DROP'],words:['Adem a.s.','Muhammed a.s.','Nuh a.s.','Isa a.s.'],correct:['Adem a.s.','Muhammed a.s.'],explanation:'Prvi poslanik je Adem a.s., zadnji je Muhammed a.s.'},
            {type:'dragDrop',question:'Dopuni Rabbi jessir:',template:['Rabbi jessir ve la','DROP','Rabbi temmim','DROP'],words:['tu\'assir,','bil-hajr!','tu\'alim,','bil-ilm!'],correct:['tu\'assir,','bil-hajr!'],explanation:'Rabbi jessir: "Gospodaru olak≈°aj a ne ote≈æaj, dovr≈°i sa dobrom!"'},
            {type:'dragDrop',question:'Dopuni o Muhammedu a.s.:',template:['Muhammed a.s. roƒëen je u','DROP','Otac mu se zvao','DROP'],words:['Mekki.','Abdullah.','Medini.','Ibrahim.'],correct:['Mekki.','Abdullah.'],explanation:'Muhammed a.s. roƒëen je u Mekki, otac mu je Abdullah.'},
            {type:'dragDrop',question:'Dopuni izraze:',template:['Za Allaha ka≈æemo','DROP','a za poslanike','DROP'],words:['Subhanehu ve te\'ala','Alejhis-selam','Radijallahu anhu','Sallallahu alejhi ve sellem'],correct:['Subhanehu ve te\'ala','Alejhis-selam'],explanation:'Za Allaha: Subhanehu ve te\'ala, za poslanike: Alejhis-selam.'},
            {type:'dragDrop',question:'Dopuni dinskih i drugih ≈°artova:',template:['Dinskih ≈°artova ima','DROP','a abdeska ≈°arta ima','DROP'],words:['7','4','5','6'],correct:['7','4'],explanation:'Dinskih ≈°artova ima 7, abdeska ≈°arta ima 4.'},
            {type:'dragDrop',question:'Dopuni Rabbi zidni \'ilma:',template:['Rabbi','DROP','\'ilma - Gospodaru moj, Ti','DROP','moje pro≈°iri!'],words:['zidni','znanje','jessir','dobro'],correct:['zidni','znanje'],explanation:'"Rabbi zidni \'ilma" - Gospodaru moj, znanje moje pro≈°iri!'},
            {type:'dragDrop',question:'Dopuni Allahu rabbi:',template:['Allahu','DROP','ve Muhammeden','DROP','vel-Kur\'anu kitabi'],words:['rabbi','nebijji','ilahi','resulullah'],correct:['rabbi','nebijji'],explanation:'Allahu rabbi ve Muhammeden nebijji...'},
            {type:'dragDrop',question:'Dopuni stubove islama:',template:['Prvi stub je','DROP','a treƒái stub je','DROP'],words:['≈†ehadet','Post','Namaz','Had≈æ'],correct:['≈†ehadet','Post'],explanation:'Prvi stub islama je ≈†ehadet, treƒái je Post.'},
            {type:'dragDrop',question:'Dopuni o postu:',template:['Post je obavezan u mjesecu','DROP','Od zore do','DROP','sunca'],words:['ramazan.','zalaska','≈°evval.','izlaska'],correct:['ramazan.','zalaska'],explanation:'Post je u ramazanu, od zore do zalaska sunca.'},
            {type:'dragDrop',question:'Dopuni ukupan broj poslanika:',template:['Allah je poslao ukupno','DROP','poslanika, od kojih je','DROP','spomenuto u Kur\'anu'],words:['124.000','25','313','1.000'],correct:['124.000','25'],explanation:'Allah je poslao 124.000 poslanika, 25 je spomenuto u Kur\'anu.'}
        ];

        let currentQuestions = [];
        let currentQuestionIndex = 0;
        let score = 0;
        const TOTAL_QUESTIONS = 20;
        let currentAnswer = null;

        function shuffleArray(array) {
            const newArray = [...array];
            for (let i = newArray.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [newArray[i], newArray[j]] = [newArray[j], newArray[i]];
            }
            return newArray;
        }

        function startQuiz() {
            currentQuestions = shuffleArray(allQuestions).slice(0, TOTAL_QUESTIONS);
            currentQuestionIndex = 0;
            score = 0;
            
            document.getElementById('startScreen').classList.remove('active');
            document.getElementById('resultScreen').classList.remove('active');
            document.getElementById('quizScreen').classList.add('active');
            
            showQuestion();
        }

        function showQuestion() {
            const question = currentQuestions[currentQuestionIndex];
            currentAnswer = null;
            
            document.getElementById('questionText').textContent = question.question;
            document.getElementById('questionCount').textContent = `${currentQuestionIndex + 1}/${TOTAL_QUESTIONS}`;
            document.getElementById('progressBar').style.width = `${((currentQuestionIndex) / TOTAL_QUESTIONS) * 100}%`;
            
            const container = document.getElementById('questionContainer');
            container.innerHTML = '';
            
            if (question.type === 'checkbox') {
                renderCheckbox(question, container);
            } else if (question.type === 'reorder') {
                renderReorder(question, container);
            } else if (question.type === 'markWords') {
                renderMarkWords(question, container);
            } else if (question.type === 'dragDrop') {
                renderDragDrop(question, container);
            }
        }

        function renderCheckbox(q, container) {
            const shuffled = shuffleArray([...q.options]);
            shuffled.forEach(opt => {
                const div = document.createElement('div');
                div.className = 'option checkbox-option';
                div.innerHTML = `<input type="checkbox" value="${opt}"><span>${opt}</span>`;
                container.appendChild(div);
            });
            
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.textContent = 'PROVJERI ODGOVOR';
            btn.onclick = checkCheckbox;
            container.appendChild(btn);
        }

        function checkCheckbox() {
            const q = currentQuestions[currentQuestionIndex];
            const checkboxes = document.querySelectorAll('#questionContainer input[type="checkbox"]');
            const selected = [];
            checkboxes.forEach(cb => {
                if (cb.checked) selected.push(cb.value);
            });
            
            const isCorrect = q.correct.length === selected.length && 
                             q.correct.every(c => selected.includes(c));
            
            if (isCorrect) score++;
            showPopup(isCorrect, q.explanation);
        }

        function renderReorder(q, container) {
            const ul = document.createElement('ul');
            ul.className = 'reorder-list';
            ul.id = 'reorderList';
            
            const shuffled = shuffleArray([...q.items]);
            shuffled.forEach((item) => {
                const li = document.createElement('li');
                li.className = 'reorder-item';
                li.dataset.correctOrder = item.order;
                li.innerHTML = `
                    <span>${item.text}</span>
                    <div class="reorder-controls">
                        <button class="reorder-btn" onclick="moveItemUp(this)">‚Üë</button>
                        <button class="reorder-btn" onclick="moveItemDown(this)">‚Üì</button>
                    </div>
                `;
                ul.appendChild(li);
            });
            container.appendChild(ul);
            
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.textContent = 'PROVJERI REDOSLIJED';
            btn.onclick = checkReorder;
            container.appendChild(btn);
        }

        function moveItemUp(btn) {
            const item = btn.closest('.reorder-item');
            const prev = item.previousElementSibling;
            if (prev) {
                item.parentNode.insertBefore(item, prev);
            }
        }

        function moveItemDown(btn) {
            const item = btn.closest('.reorder-item');
            const next = item.nextElementSibling;
            if (next) {
                item.parentNode.insertBefore(next, item);
            }
        }

        function checkReorder() {
            const q = currentQuestions[currentQuestionIndex];
            const items = document.querySelectorAll('#reorderList .reorder-item');
            let correct = 0;
            
            items.forEach((item, idx) => {
                const correctOrder = parseInt(item.dataset.correctOrder);
                if (correctOrder === idx + 1) correct++;
            });
            
            const isCorrect = correct === items.length;
            if (isCorrect) score++;
            showPopup(isCorrect, q.explanation);
        }

        function renderMarkWords(q, container) {
            const textDiv = document.createElement('div');
            textDiv.className = 'text-container';
            
            q.words.forEach((word, idx) => {
                const span = document.createElement('span');
                span.className = 'word';
                span.textContent = word;
                span.dataset.index = idx;
                span.onclick = function() {
                    this.classList.toggle('marked');
                };
                textDiv.appendChild(span);
                if (idx < q.words.length - 1) {
                    textDiv.appendChild(document.createTextNode(' '));
                }
            });
            container.appendChild(textDiv);
            
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.textContent = 'PROVJERI OZNAƒåENE RIJEƒåI';
            btn.onclick = checkMarkWords;
            container.appendChild(btn);
        }

        function checkMarkWords() {
            const q = currentQuestions[currentQuestionIndex];
            const words = document.querySelectorAll('.word');
            const marked = [];
            
            words.forEach(word => {
                if (word.classList.contains('marked')) {
                    marked.push(parseInt(word.dataset.index));
                }
            });
            
            const isCorrect = q.incorrect.length === marked.length && 
                             q.incorrect.every(i => marked.includes(i));
            
            if (isCorrect) score++;
            showPopup(isCorrect, q.explanation);
        }

        function renderDragDrop(q, container) {
            const builder = document.createElement('div');
            builder.className = 'sentence-builder';
            builder.id = 'sentenceBuilder';
            
            let dropIndex = 0;
            q.template.forEach(part => {
                if (part === 'DROP') {
                    const drop = document.createElement('div');
                    drop.className = 'drop-zone';
                    drop.dataset.index = dropIndex++;
                    drop.onclick = function() {
                        if (currentAnswer && !this.classList.contains('filled')) {
                            this.textContent = currentAnswer.textContent;
                            this.classList.add('filled');
                            currentAnswer.classList.add('used');
                            currentAnswer = null;
                        } else if (this.classList.contains('filled')) {
                            const text = this.textContent;
                            this.textContent = '';
                            this.classList.remove('filled');
                            document.querySelectorAll('.draggable-word').forEach(w => {
                                if (w.textContent === text) w.classList.remove('used');
                            });
                        }
                    };
                    builder.appendChild(drop);
                } else {
                    const text = document.createElement('span');
                    text.textContent = part;
                    builder.appendChild(text);
                }
            });
            container.appendChild(builder);
            
            const bank = document.createElement('div');
            bank.className = 'word-bank';
            
            shuffleArray([...q.words]).forEach(word => {
                const div = document.createElement('div');
                div.className = 'draggable-word';
                div.textContent = word;
                div.onclick = function() {
                    if (!this.classList.contains('used')) {
                        document.querySelectorAll('.draggable-word').forEach(w => w.style.transform = 'scale(1)');
                        currentAnswer = this;
                        this.style.transform = 'scale(1.1)';
                    }
                };
                bank.appendChild(div);
            });
            container.appendChild(bank);
            
            const btn = document.createElement('button');
            btn.className = 'answer-btn';
            btn.textContent = 'PROVJERI REƒåENICU';
            btn.onclick = checkDragDrop;
            container.appendChild(btn);
        }

        function checkDragDrop() {
            const q = currentQuestions[currentQuestionIndex];
            const zones = document.querySelectorAll('#sentenceBuilder .drop-zone');
            let correct = 0;
            
            zones.forEach((zone, idx) => {
                const userAnswer = zone.textContent.trim();
                if (userAnswer === q.correct[idx]) correct++;
            });
            
            const isCorrect = correct === q.correct.length;
            if (isCorrect) score++;
            showPopup(isCorrect, q.explanation);
        }

        function showPopup(isCorrect, explanation) {
            const popup = document.getElementById('popupOverlay');
            const icon = document.getElementById('popupIcon');
            const title = document.getElementById('popupTitle');
            const explanationEl = document.getElementById('popupExplanation');
            
            if (isCorrect) {
                icon.textContent = '‚úÖ';
                title.textContent = 'Taƒçno!';
                title.style.color = '#065f46';
            } else {
                icon.textContent = '‚ùå';
                title.textContent = 'Netaƒçno!';
                title.style.color = '#dc2626';
            }
            
            explanationEl.textContent = explanation;
            popup.classList.add('active');
        }

        function nextQuestion() {
            document.getElementById('popupOverlay').classList.remove('active');
            currentQuestionIndex++;
            
            if (currentQuestionIndex >= TOTAL_QUESTIONS) {
                showResults();
            } else {
                showQuestion();
            }
        }

        function showResults() {
            const percentage = Math.round((score / TOTAL_QUESTIONS) * 100);
            let message, emoji;
            
            if (percentage >= 90) {
                message = 'Izvanredno! Mashallah!';
                emoji = 'üåü';
            } else if (percentage >= 70) {
                message = 'Vrlo dobro!';
                emoji = '‚ú®';
            } else if (percentage >= 50) {
                message = 'Dobro! Nastavite uƒçiti.';
                emoji = 'üìö';
            } else {
                message = 'Potrebno je vi≈°e uƒçenja.';
                emoji = 'üí™';
            }
            
            document.getElementById('quizScreen').classList.remove('active');
            document.getElementById('resultScreen').classList.add('active');
            
            document.getElementById('resultEmoji').textContent = emoji;
            document.getElementById('resultMessage').textContent = message;
            document.getElementById('resultScore').textContent = `${score}/${TOTAL_QUESTIONS}`;
            document.getElementById('resultPercentage').textContent = `${percentage}% taƒçnih odgovora`;
        }
    </script>
</body>
</html>
